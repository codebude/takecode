// Language mapping from db.json to Prism.js compatible names
const languageMap = {
    'abap': 'abap',
    'abc': 'text',
    'actionscript': 'actionscript',
    'ada': 'ada',
    'alda': 'text',
    'apache_conf': 'apacheconf',
    'apex': 'apex',
    'applescript': 'applescript',
    'aql': 'aql',
    'asciidoc': 'asciidoc',
    'asl': 'text',
    'asp_vb_net': 'aspnet',
    'assembly_x86': 'asm6502',
    'autohotkey': 'autohotkey',
    'batchfile': 'batch',
    'bicep': 'bicep',
    'c_cpp': 'cpp',
    'c9search': 'text',
    'cirru': 'cirru',
    'clojure': 'clojure',
    'cobol': 'cobol',
    'coffee': 'coffeescript',
    'coldfusion': 'coldfusion',
    'crystal': 'crystal',
    'csharp': 'csharp',
    'csound_document': 'csound-document',
    'csound_orchestra': 'csound-orchestra',
    'csound_score': 'csound-score',
    'csp': 'csp',
    'css': 'css',
    'curly': 'text',
    'd': 'd',
    'dart': 'dart',
    'diff': 'diff',
    'django': 'django',
    'dockerfile': 'docker',
    'dot': 'dot',
    'drools': 'drools',
    'edifact': 'edifact',
    'eiffel': 'eiffel',
    'ejs': 'ejs',
    'elixir': 'elixir',
    'elm': 'elm',
    'erlang': 'erlang',
    'forth': 'forth',
    'fortran': 'fortran',
    'fsharp': 'fsharp',
    'fsl': 'fsl',
    'ftl': 'ftl',
    'gcode': 'gcode',
    'gherkin': 'gherkin',
    'gitignore': 'gitignore',
    'glsl': 'glsl',
    'gobstones': 'gobstones',
    'golang': 'go',
    'graphqlschema': 'graphql',
    'groovy': 'groovy',
    'haml': 'haml',
    'handlebars': 'handlebars',
    'haskell_cabal': 'cabal',
    'haskell': 'haskell',
    'haxe': 'haxe',
    'hjson': 'hjson',
    'html_elixir': 'html',
    'html_ruby': 'html',
    'html': 'html',
    'ini': 'ini',
    'io': 'io',
    'jack': 'jack',
    'jade': 'pug',
    'java': 'java',
    'javascript': 'javascript',
    'json': 'json',
    'json5': 'json5',
    'jsoniq': 'json',
    'jsp': 'jsp',
    'jssm': 'jssm',
    'jsx': 'jsx',
    'julia': 'julia',
    'kotlin': 'kotlin',
    'kusto': 'kusto',
    'latex': 'latex',
    'latte': 'latte',
    'less': 'less',
    'liquid': 'liquid',
    'lisp': 'lisp',
    'livescript': 'livescript',
    'logiql': 'logiql',
    'logtalk': 'logtalk',
    'lsl': 'lsl',
    'lua': 'lua',
    'luapage': 'luapage',
    'lucene': 'lucene',
    'makefile': 'makefile',
    'markdown': 'markdown',
    'mask': 'mask',
    'matlab': 'matlab',
    'maze': 'maze',
    'mediawiki': 'mediawiki',
    'mel': 'mel',
    'mikrotik': 'mikrotik',
    'mips': 'mipsasm',
    'mixal': 'mixal',
    'mushcode': 'mushcode',
    'mysql': 'sql',
    'nginx': 'nginx',
    'nim': 'nim',
    'nix': 'nix',
    'nsis': 'nsis',
    'nunjucks': 'nunjucks',
    'objectivec': 'objectivec',
    'ocaml': 'ocaml',
    'pascal': 'pascal',
    'perl': 'perl',
    'perl6': 'perl',
    'pgsql': 'sql',
    'php_laravel_blade': 'blade',
    'php': 'php',
    'pig': 'pig',
    'plain_text': 'text',
    'powershell': 'powershell',
    'praat': 'praat',
    'prisma': 'prisma',
    'prolog': 'prolog',
    'properties': 'properties',
    'protobuf': 'protobuf',
    'pug': 'pug',
    'puppet': 'puppet',
    'python': 'python',
    'qml': 'qml',
    'r': 'r',
    'raku': 'raku',
    'razor': 'razor',
    'rdoc': 'rdoc',
    'red': 'red',
    'redshift': 'sql',
    'regexp': 'regex',
    'rhtml': 'rhtml',
    'rst': 'rest',
    'ruby': 'ruby',
    'rust': 'rust',
    'sas': 'sas',
    'sass': 'sass',
    'sassdoc': 'sass',
    'scad': 'scad',
    'scala': 'scala',
    'scheme': 'scheme',
    'scrypt': 'scrypt',
    'scss': 'scss',
    'sh': 'bash',
    'sjs': 'sjs',
    'slim': 'slim',
    'smalltalk': 'smalltalk',
    'smarty': 'smarty',
    'smithy': 'smithy',
    'solidity': 'solidity',
    'soy_template': 'soy',
    'space': 'space',
    'sparql': 'sparql',
    'sql': 'sql',
    'sqlserver': 'sql',
    'stylus': 'stylus',
    'svg': 'svg',
    'swift': 'swift',
    'tcl': 'tcl',
    'terraform': 'hcl',
    'tex': 'tex',
    'text': 'text',
    'textile': 'textile',
    'toml': 'toml',
    'tsx': 'tsx',
    'turtle': 'turtle',
    'twig': 'twig',
    'typescript': 'typescript',
    'vala': 'vala',
    'vbscript': 'vbscript',
    'velocity': 'velocity',
    'verilog': 'verilog',
    'vhdl': 'vhdl',
    'visualforce': 'visualforce',
    'vue': 'vue',
    'wollok': 'wollok',
    'xml': 'xml',
    'xquery': 'xquery',
    'xsl': 'xsl',
    'yaml': 'yaml',
    'zeek': 'zeek'
};

// Function to get Prism.js compatible language name
function getPrismLanguage(dbLanguage) {
    return languageMap[dbLanguage] || 'text';
}

// Export for ES6 modules
export { getPrismLanguage, languageMap };

// Backward compatibility for non-module environments
if (typeof window !== 'undefined') {
    window.LanguageMapper = { getPrismLanguage, languageMap };
}